import{a as P}from"./chunk-ROWCNYDN.js";import{a as b}from"./chunk-U6TJCA2D.js";import{a as O}from"./chunk-B2COKLLR.js";import{b as M}from"./chunk-MCPEIG4C.js";import{Bb as h,Ca as _,Cb as k,Db as C,Gb as u,Ha as g,Na as s,Pa as n,Qa as e,Ra as p,Wa as v,bb as i,cb as c,db as m,fb as x,ua as o,va as f}from"./chunk-G2I6LUOS.js";function w(a,d){a&1&&p(0,"app-loading-spinner",4)}function S(a,d){a&1&&(n(0,"div",5)(1,"p"),i(2,"Stock not found."),e()())}function y(a,d){a&1&&p(0,"app-loading-spinner",27)}function I(a,d){a&1&&(n(0,"div",28)(1,"p"),i(2,"No recent news for this stock."),e()())}function E(a,d){if(a&1&&p(0,"app-news-card",31),a&2){let t=d.$implicit;s("news",t)}}function N(a,d){if(a&1&&(n(0,"div",29),g(1,E,1,1,"app-news-card",30),e()),a&2){let t=v(2);o(),s("ngForOf",t.relatedNews)}}function D(a,d){if(a&1&&(n(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2"),i(4),e(),n(5,"span",9),i(6),e()(),n(7,"span",10),i(8),e()(),n(9,"div",11)(10,"div",12),i(11),e(),n(12,"div",13),i(13),e()(),n(14,"div",14)(15,"div",15),p(16,"div",16),e()(),n(17,"div",17)(18,"div",18)(19,"h3"),i(20,"About"),e(),n(21,"p"),i(22),e()(),n(23,"div",18)(24,"h3"),i(25,"Key Statistics"),e(),n(26,"div",19)(27,"div",20)(28,"div",21),i(29,"Market Cap"),e(),n(30,"div",22),i(31),e()(),n(32,"div",20)(33,"div",21),i(34,"Volume"),e(),n(35,"div",22),i(36),e()(),n(37,"div",20)(38,"div",21),i(39,"P/E Ratio"),e(),n(40,"div",22),i(41),e()(),n(42,"div",20)(43,"div",21),i(44,"Dividend Yield"),e(),n(45,"div",22),i(46),e()(),n(47,"div",20)(48,"div",21),i(49,"Sector"),e(),n(50,"div",22),i(51),e()(),n(52,"div",20)(53,"div",21),i(54,"Industry"),e(),n(55,"div",22),i(56),e()()()()(),n(57,"div",23)(58,"h3"),i(59,"Latest News"),e(),g(60,y,1,0,"app-loading-spinner",24)(61,I,3,0,"div",25)(62,N,2,1,"div",26),e()()),a&2){let t=v();o(4),c(t.stock.code),o(2),c(t.stock.name),o(),s("ngClass",t.stock.shariaStatus==="Halal"?"badge-halal":"badge-haram"),o(),m(" ",t.stock.shariaStatus," "),o(3),m("$",t.stock.price.toFixed(2),""),o(),s("ngClass",t.stock.change>=0?"positive":"negative"),o(),x(" ",t.stock.change>=0?"+":"","",t.stock.change.toFixed(2)," (",t.stock.changePercent.toFixed(2),"%) "),o(3),s("ngClass",t.stock.change>=0?"positive-chart":"negative-chart"),o(6),c(t.stock.description),o(9),m("$",t.formatLargeNumber(t.stock.marketCap),""),o(5),c(t.formatLargeNumber(t.stock.volume)),o(5),c(t.stock.peRatio==null?null:t.stock.peRatio.toFixed(2)),o(5),m("",t.stock.dividend==null?null:t.stock.dividend.toFixed(2),"%"),o(5),c(t.stock.sector),o(5),c(t.stock.industry),o(4),s("ngIf",t.loadingNews),o(),s("ngIf",!t.loadingNews&&t.relatedNews.length===0),o(),s("ngIf",!t.loadingNews&&t.relatedNews.length>0)}}var j=(()=>{class a{constructor(t,r){this.route=t,this.apiService=r,this.relatedNews=[],this.loading=!0,this.loadingNews=!0}ngOnInit(){this.route.paramMap.subscribe(t=>{let r=t.get("id");r&&(this.loadStockDetails(r),this.loadStockNews(r))})}loadStockDetails(t){this.loading=!0,this.apiService.getStockById(t).subscribe(r=>{this.stock=r,this.loading=!1})}loadStockNews(t){this.loadingNews=!0,this.apiService.getNewsForStock(t).subscribe(r=>{this.relatedNews=r,this.loadingNews=!1})}formatLargeNumber(t){return t===void 0?"N/A":t>=1e9?(t/1e9).toFixed(2)+"B":t>=1e6?(t/1e6).toFixed(2)+"M":t>=1e3?(t/1e3).toFixed(2)+"K":t.toString()}static{this.\u0275fac=function(r){return new(r||a)(f(M),f(b))}}static{this.\u0275cmp=_({type:a,selectors:[["app-stock-detail"]],decls:4,vars:3,consts:[[1,"stock-detail-page"],["message","Loading stock details...",4,"ngIf"],["class","not-found",4,"ngIf"],["class","stock-content",4,"ngIf"],["message","Loading stock details..."],[1,"not-found"],[1,"stock-content"],[1,"stock-header"],[1,"stock-title"],[1,"stock-name"],[1,"badge",3,"ngClass"],[1,"stock-price-section"],[1,"current-price"],[1,"price-change",3,"ngClass"],[1,"stock-chart"],[1,"chart-placeholder"],[1,"chart-line",3,"ngClass"],[1,"stock-details"],[1,"detail-section"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"stock-news"],["message","Loading news...",4,"ngIf"],["class","no-news",4,"ngIf"],["class","news-list",4,"ngIf"],["message","Loading news..."],[1,"no-news"],[1,"news-list"],[3,"news",4,"ngFor","ngForOf"],[3,"news"]],template:function(r,l){r&1&&(n(0,"div",0),g(1,w,1,0,"app-loading-spinner",1)(2,S,3,0,"div",2)(3,D,63,20,"div",3),e()),r&2&&(o(),s("ngIf",l.loading),o(),s("ngIf",!l.loading&&!l.stock),o(),s("ngIf",!l.loading&&l.stock))},dependencies:[u,h,k,C,P,O],styles:['.stock-detail-page[_ngcontent-%COMP%]{padding:20px 0;animation:_ngcontent-%COMP%_fadeIn .8s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.not-found[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#666;background:#fff;border-radius:8px;box-shadow:var(--shadow)}.stock-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:var(--shadow);padding:20px;animation:_ngcontent-%COMP%_slideUp .8s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.stock-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid #eee;animation:_ngcontent-%COMP%_slideInLeft .8s ease}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.stock-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin:0 0 4px;color:var(--primary-color)}.stock-name[_ngcontent-%COMP%]{font-size:1.1rem;color:#666}.badge[_ngcontent-%COMP%]{font-size:1rem;padding:6px 12px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.stock-price-section[_ngcontent-%COMP%]{margin-bottom:24px;animation:_ngcontent-%COMP%_slideInRight .8s ease}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.current-price[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:4px}.price-change[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.price-change[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.positive[_ngcontent-%COMP%]{color:var(--secondary-color)}.negative[_ngcontent-%COMP%]{color:var(--danger-color)}.stock-chart[_ngcontent-%COMP%]{margin-bottom:24px;animation:_ngcontent-%COMP%_fadeIn 1s ease;animation-delay:.3s;animation-fill-mode:both}.chart-placeholder[_ngcontent-%COMP%]{height:200px;background-color:#f8f9fa;border-radius:8px;position:relative;overflow:hidden}.chart-line[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:0;height:100%;animation:_ngcontent-%COMP%_chartDraw 2s ease forwards;animation-delay:.5s}@keyframes _ngcontent-%COMP%_chartDraw{to{width:100%}}.positive-chart[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent,rgba(39,174,96,.2))}.negative-chart[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent,rgba(231,76,60,.2))}.stock-details[_ngcontent-%COMP%]{margin-bottom:24px;animation:_ngcontent-%COMP%_fadeIn 1s ease;animation-delay:.5s;animation-fill-mode:both}.detail-section[_ngcontent-%COMP%]{margin-bottom:20px}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:12px;color:var(--primary-color);position:relative;display:inline-block}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:0;width:40px;height:2px;background-color:var(--secondary-color);transition:width .3s ease}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:hover:after{width:100%}.detail-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#333}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.stat-item[_ngcontent-%COMP%]{padding:12px;background-color:#f8f9fa;border-radius:6px;transition:all .3s ease}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a;background-color:#fff}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-bottom:4px}.stat-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#333}.stock-news[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:16px;color:var(--primary-color);position:relative;display:inline-block}.stock-news[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:0;width:40px;height:2px;background-color:var(--secondary-color);transition:width .3s ease}.stock-news[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:hover:after{width:100%}.no-news[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#666;background:#f8f9fa;border-radius:6px}.news-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;animation:_ngcontent-%COMP%_fadeIn 1s ease;animation-delay:.7s;animation-fill-mode:both}@media (max-width: 768px){.news-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}}return a})();export{j as StockDetailComponent};
